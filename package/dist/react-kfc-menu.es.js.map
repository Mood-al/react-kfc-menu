{"version":3,"file":"react-kfc-menu.es.js","sources":["../src/lib/utils/debounce.ts","../node_modules/object-assign/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","../react/jsx-runtime","../src/lib/components/Menu/index.tsx","../src/lib/components/MenuBlock/index.tsx"],"sourcesContent":["export const debounce = (func: { apply: (arg0: undefined, arg1: any[]) => void; }, wait = 166) => {\n    let timeout: NodeJS.Timeout;\n  \n    const debounced = (...args: any[]) => {\n      const later = () => {\n        func.apply(this, args);\n      };\n  \n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    }\n  \n    debounced.clear = () => {\n      clearTimeout(timeout);\n    };\n  \n    return debounced;\n  };\n  ","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import * as jsxRuntime from \"/Users/m.aliwi/Desktop/websites/react-kfc-menu/package/node_modules/react/jsx-runtime.js\"\nexport const jsx = jsxRuntime.jsx\nexport const jsxs = jsxRuntime.jsxs\nexport const Fragment = jsxRuntime.Fragment","import React from \"react\";\nimport { debounce } from \"../../utils/debounce\";\n\ninterface IProps {\n  children: React.ReactNode;\n  onBlockIntersection: (e: any, id: number) => void;\n  activeBlock: number;\n  containerClassName?: string;\n  indicatorTopPostion?: number;\n  indicatorClassName?: string;\n  showIndicator?: boolean;\n  scrollBahavior?: any;\n  action?: any;\n}\nconst Menu: React.FC<IProps> = ({\n  children,\n  activeBlock,\n  onBlockIntersection = () => null,\n  containerClassName = \"\",\n  indicatorClassName = \"\",\n  indicatorTopPostion = 80,\n  showIndicator = false,\n  scrollBahavior = \"auto\",\n  action,\n}) => {\n  const blockRef = React.useRef<HTMLDivElement[]>([]);\n  const indicatorRef = React.useRef<HTMLDivElement>(null);\n\n  let prev = null as any;\n  const handleScroll = debounce((event: any) => {\n    if (!indicatorRef.current) return;\n    const indicatorRects = indicatorRef.current?.getBoundingClientRect();\n\n    const element = document\n      ?.elementsFromPoint(indicatorRects?.x!, indicatorRects?.y!)\n      .find((item) => item.classList.contains(\"rkm___block___container\"));\n\n    let id = element?.getAttribute(\"data-id\")! || activeBlock;\n\n    if (prev !== id) {\n      onBlockIntersection(event, +id);\n    }\n\n    prev = id;\n  });\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    if (activeBlock) {\n      scrollSelectedToBlock(activeBlock);\n    }\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  const scrollSelectedToBlock = (index: number) => {\n    const blockRects = blockRef.current[index].getBoundingClientRect();\n\n    const blockToTopGap =\n      document.documentElement.scrollTop +\n      blockRef.current[0].getBoundingClientRect().top;\n\n    window.scrollTo({\n      top:\n        document.documentElement.scrollTop +\n        blockRects.top -\n        indicatorTopPostion,\n\n      behavior: scrollBahavior,\n    });\n  };\n  React.useImperativeHandle(\n    action,\n    () => ({\n      scrollSelectedToBlock,\n    }),\n    [scrollSelectedToBlock]\n  );\n\n  return (\n    <div className={`${containerClassName || \"\"}`}>\n      <div\n        className={indicatorClassName}\n        ref={indicatorRef}\n        style={{\n          position: \"fixed\",\n          top: indicatorTopPostion,\n          zIndex: \"-1\",\n          ...(showIndicator && {\n            height: 4,\n            background: \"red\",\n            zIndex: \"99\",\n            width: \"100%\",\n          }),\n        }}\n      ></div>\n      {React.Children.map(children, (child, index) => {\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        return (\n          <div style={{ position: \"relative\" }}>\n            {React.cloneElement(child as any, {\n              className: `${child.props.className || \"\"}`,\n              [\"data-id\"]: index,\n              ref: (ref: HTMLDivElement) => (blockRef.current[index] = ref),\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\ninterface MenuBlockProps {\n  children: React.ReactNode;\n  className?: string;\n  style?: object;\n  props?: React.ReactNode;\n}\nconst MenuBlock = React.forwardRef(\n  ({ className, ...props }: MenuBlockProps, ref) => {\n    return (\n      <div\n        {...props}\n        className={`${className || \"\"} rkm___block___container`}\n        ref={ref as React.RefObject<HTMLDivElement>}\n        // style={{ padding: \"1rem\", ...(props?.style ? props?.style : {}) }}\n      >\n        {props.children}\n      </div>\n    );\n  }\n);\nexport default MenuBlock;\n"],"names":["n","require$$0","jsxRuntimeModule","jsxRuntime.jsx","jsxRuntime.jsxs","Menu","children","activeBlock","onBlockIntersection","containerClassName","indicatorClassName","indicatorTopPostion","showIndicator","scrollBahavior","action","blockRef","React","useRef","indicatorRef","prev","handleScroll","debounce","event","current","indicatorRects","getBoundingClientRect","element","document","elementsFromPoint","x","y","find","item","classList","contains","id","getAttribute","useEffect","window","scrollSelectedToBlock","addEventListener","removeEventListener","index","blockRects","documentElement","scrollTop","top","scrollTo","behavior","useImperativeHandle","className","_jsx","ref","style","position","zIndex","height","background","width","Children","map","child","isValidElement","cloneElement","props","MenuBlock","forwardRef"],"mappings":"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"}