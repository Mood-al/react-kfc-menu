{"version":3,"file":"react-kfc-menu.umd.js","sources":["../src/lib/utils/debounce.ts","../node_modules/object-assign/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","../react/jsx-runtime","../src/lib/components/Menu/index.tsx","../src/lib/components/MenuBlock/index.tsx"],"sourcesContent":["export const debounce = (func: { apply: (arg0: undefined, arg1: any[]) => void; }, wait = 166) => {\n    let timeout: NodeJS.Timeout;\n  \n    const debounced = (...args: any[]) => {\n      const later = () => {\n        func.apply(this, args);\n      };\n  \n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    }\n  \n    debounced.clear = () => {\n      clearTimeout(timeout);\n    };\n  \n    return debounced;\n  };\n  ","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import * as jsxRuntime from \"/Users/m.aliwi/Desktop/websites/react-kfc-menu/package/node_modules/react/jsx-runtime.js\"\nexport const jsx = jsxRuntime.jsx\nexport const jsxs = jsxRuntime.jsxs\nexport const Fragment = jsxRuntime.Fragment","import React from \"react\";\nimport { debounce } from \"../../utils/debounce\";\n\ninterface IProps {\n  children: React.ReactNode;\n  onBlockIntersection: (e: any, id: number) => void;\n  activeBlock: number;\n  containerClassName?: string;\n  indicatorTopPostion?: number;\n  indicatorClassName?: string;\n  showIndicator?: boolean;\n  scrollBahavior?: any;\n  action?: any;\n}\nconst Menu: React.FC<IProps> = ({\n  children,\n  activeBlock,\n  onBlockIntersection = () => null,\n  containerClassName = \"\",\n  indicatorClassName = \"\",\n  indicatorTopPostion = 80,\n  showIndicator = false,\n  scrollBahavior = \"auto\",\n  action,\n}) => {\n  const blockRef = React.useRef<HTMLDivElement[]>([]);\n  const indicatorRef = React.useRef<HTMLDivElement>(null);\n\n  let prev = null as any;\n  const handleScroll = debounce((event: any) => {\n    if (!indicatorRef.current) return;\n    const indicatorRects = indicatorRef.current?.getBoundingClientRect();\n\n    const element = document\n      ?.elementsFromPoint(indicatorRects?.x!, indicatorRects?.y!)\n      .find((item) => item.classList.contains(\"rkm___block___container\"));\n\n    let id = element?.getAttribute(\"data-id\")! || activeBlock;\n\n    if (prev !== id) {\n      onBlockIntersection(event, +id);\n    }\n\n    prev = id;\n  });\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    if (activeBlock) {\n      scrollSelectedToBlock(activeBlock);\n    }\n    handleScroll();\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  const scrollSelectedToBlock = (index: number) => {\n    const blockRects = blockRef.current[index].getBoundingClientRect();\n\n    const blockToTopGap =\n      document.documentElement.scrollTop +\n      blockRef.current[0].getBoundingClientRect().top;\n\n    window.scrollTo({\n      top:\n        document.documentElement.scrollTop +\n        blockRects.top -\n        indicatorTopPostion,\n\n      behavior: scrollBahavior,\n    });\n  };\n  React.useImperativeHandle(\n    action,\n    () => ({\n      scrollSelectedToBlock,\n    }),\n    [scrollSelectedToBlock]\n  );\n\n  return (\n    <div className={`${containerClassName || \"\"}`}>\n      <div\n        className={indicatorClassName}\n        ref={indicatorRef}\n        style={{\n          position: \"fixed\",\n          top: indicatorTopPostion,\n          zIndex: \"-1\",\n          ...(showIndicator && {\n            height: 4,\n            background: \"red\",\n            zIndex: \"99\",\n            width: \"100%\",\n          }),\n        }}\n      ></div>\n      {React.Children.map(children, (child, index) => {\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        return (\n          <div style={{ position: \"relative\" }}>\n            {React.cloneElement(child as any, {\n              className: `${child.props.className || \"\"}`,\n              [\"data-id\"]: index,\n              ref: (ref: HTMLDivElement) => (blockRef.current[index] = ref),\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\ninterface MenuBlockProps {\n  children: React.ReactNode;\n  className?: string;\n  style?: object;\n  props?: React.ReactNode;\n}\nconst MenuBlock = React.forwardRef(\n  ({ className, ...props }: MenuBlockProps, ref) => {\n    return (\n      <div\n        {...props}\n        className={`${className || \"\"} rkm___block___container`}\n        ref={ref as React.RefObject<HTMLDivElement>}\n        // style={{ padding: \"1rem\", ...(props?.style ? props?.style : {}) }}\n      >\n        {props.children}\n      </div>\n    );\n  }\n);\nexport default MenuBlock;\n"],"names":["debounce","func","wait","timeout","debounced","args","later","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","toObject","val","shouldUseNative","test1","test2","i","order2","n","test3","letter","f","require$$0","g","reactJsxRuntime_production_min","h","m","p","q","c","a","k","b","d","e","l","jsxRuntimeModule","jsx","jsxRuntime.jsx","jsxs","jsxRuntime.jsxs","Menu","children","activeBlock","onBlockIntersection","containerClassName","indicatorClassName","indicatorTopPostion","showIndicator","scrollBahavior","action","blockRef","React","useRef","indicatorRef","prev","handleScroll","event","current","indicatorRects","getBoundingClientRect","element","document","elementsFromPoint","x","y","find","item","classList","contains","id","getAttribute","useEffect","window","scrollSelectedToBlock","addEventListener","removeEventListener","index","blockRects","documentElement","scrollTop","top","scrollTo","behavior","useImperativeHandle","className","_jsx","ref","style","position","zIndex","height","background","width","Children","map","child","isValidElement","cloneElement","props","MenuBlock","forwardRef"],"mappings":"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"}